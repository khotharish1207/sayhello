(this["webpackJsonpjisti-chat"]=this["webpackJsonpjisti-chat"]||[]).push([[0],{41:function(e,t,a){e.exports=a(58)},48:function(e,t,a){},58:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(14),i=a.n(o),c=a(20),l=a.n(c),s=a(66),u=a(12),d=(a(48),a(15)),m=a(61),E=a(40),p=a(68),h=a(67),f=a(62);var y=function(e){var t=e.show;return r.a.createElement(h.a,{show:t,size:"sm",centered:!0},r.a.createElement(h.a.Header,null,r.a.createElement(h.a.Title,null,"Loading")),r.a.createElement(h.a.Body,null,r.a.createElement(m.a,{className:"justify-content-center"},r.a.createElement(f.a,{animation:"grow",variant:"primary"}))))},v=a(63),w=a(69),b=a(64),g=a(65);var O=a(26),A=a.n(O),S=a(29),N=a(38);function I(){return[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some((function(e){return navigator.userAgent.match(e)}))}function T(){return(T=Object(N.a)(A.a.mark((function e(){var t,a,n=arguments;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},e.next=3,fetch("https://mock-server-hk.herokuapp.com/sayhello",{method:"POST",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(Object(S.a)(Object(S.a)({},t),{},{timeStap:(new Date).toLocaleString(),device:I()?"Mobile":"Desktop"}))});case 3:return a=e.sent,e.abrupt("return",a.json());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _=[{name:"Audio",value:1},{name:"Video",value:2}];var j=function(e){var t=e.onClose,a=e.onStart,o=e.show,i=new l.a(window.location.href,!0),c=i.query.roomId,s=Object(n.useState)(1),u=Object(d.a)(s,2),m=u[0],p=u[1],f=Object(n.useState)(c||""),y=Object(d.a)(f,2),O=y[0],A=y[1],S=Object(n.useState)(function(e){for(var t=e+"=",a=document.cookie.split(";"),n=0;n<a.length;n++){for(var r=a[n];" "===r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(t))return r.substring(t.length,r.length)}return null}("displayName")||""),N=Object(d.a)(S,2),I=N[0],j=N[1];return r.a.createElement(h.a,{show:o,backdrop:"static",keyboard:!1,centered:!0},r.a.createElement(h.a.Header,{className:"justify-content-center"},r.a.createElement(h.a.Title,null,"Start Meet")),r.a.createElement(h.a.Body,null,r.a.createElement(v.a,{className:"mb-3"},r.a.createElement(v.a.Prepend,null,r.a.createElement(v.a.Text,{id:"inputGroup-sizing-default"},"Room Id")),r.a.createElement(w.a,{onChange:function(e){return A(e.target.value)},value:O,"aria-label":"Default","aria-describedby":"inputGroup-sizing-default"})),r.a.createElement(v.a,{className:"mb-3"},r.a.createElement(v.a.Prepend,null,r.a.createElement(v.a.Text,{id:"inputGroup-sizing-default"},"Name")),r.a.createElement(w.a,{onChange:function(e){return j(e.target.value)},value:I,"aria-label":"Default","aria-describedby":"inputGroup-sizing-default"})),r.a.createElement(v.a,{className:"mb-3"},r.a.createElement(b.a,{toggle:!0},_.map((function(e,t){return r.a.createElement(g.a,{key:t,type:"radio",variant:m===e.value?"primary":"outline-primary",name:"radio",value:e.value,checked:m===e.value,onChange:function(e){return p(Number(e.currentTarget.value))}},e.name)}))))),r.a.createElement(h.a.Footer,null,r.a.createElement(E.a,{variant:"primary",block:!0,onClick:function(){var e,n;e="displayName",n=I,document.cookie=e+"="+(n||"")+"; path=/",i.query.roomId=O,window.history.pushState("","",i.toString());var r=1===m;t(),a(O,I,r),function(){var e;window.analytics&&(e=window.analytics).track.apply(e,arguments)}("Start Meeting",{roomId:O,displayName:I}),function(){T.apply(this,arguments)}({roomId:O,displayName:I})},disabled:!O||!I},"Say Hello")))};var k=function(){var e=Object(n.useState)(!1),t=Object(d.a)(e,2),a=t[0],o=t[1],i=Object(n.useState)(!1),c=Object(d.a)(i,2),l=c[0],s=c[1],u=Object(n.useState)(!1),h=Object(d.a)(u,2),f=h[0],v=h[1],w={display:a?"none":"block",width:"100%",height:"100%"};return Object(n.useEffect)((function(){window.JitsiMeetExternalAPI?(s(!0),function(){var e;window.analytics&&(e=window.analytics).identify.apply(e,arguments)}({device:I()?"Mobile":"Desktop"})):alert("Jitsi Meet API script not loaded")}),[]),r.a.createElement("div",{fluid:!0,style:{width:"100%",height:"100vh"}},r.a.createElement(y,{show:a}),r.a.createElement(j,{show:l,onStart:function(e,t,a){o(!0);try{var n={roomName:"".concat(e),parentNode:document.getElementById("jitsi-container"),interfaceConfigOverwrite:{filmStripOnly:!1,DEFAULT_REMOTE_DISPLAY_NAME:"",SHOW_JITSI_WATERMARK:!1,SHOW_WATERMARK_FOR_GUESTS:!1,APP_NAME:"Say Hello",DISPLAY_WELCOME_PAGE_TOOLBAR_ADDITIONAL_CONTENT:!1,NATIVE_APP_NAME:"Say Hello",PROVIDER_NAME:"Harish",INVITATION_POWERED_BY:!1,VERTICAL_FILMSTRIP:!0,ENABLE_FEEDBACK_ANIMATION:!0,VIDEO_QUALITY_LABEL_DISABLED:!0,SHOW_CHROME_EXTENSION_BANNER:!1,HIDE_KICK_BUTTON_FOR_GUESTS:!0,TOOLBAR_BUTTONS:["microphone","camera","closedcaptions",!I()&&"desktop","fullscreen","hangup","profile","chat","sharedvideo","raisehand","videoquality","filmstrip","mute-everyone","security"].filter((function(e){return e}))},configOverwrite:{disableSimulcast:!1,enableClosePage:!1,enableWelcomePage:!0,enableNoAudioDetection:!1,disableDeepLinking:!0,enableNoisyMicDetection:!1,startAudioOnly:a}},r=new window.JitsiMeetExternalAPI("meet.jit.si",n);r.addEventListener("videoConferenceJoined",(function(){o(!1),r.executeCommand("displayName",t)})),r.addEventListener("readyToClose",(function(){window.location.reload()}))}catch(i){console.error("Failed to load Jitsi API",i)}},onClose:function(){return s(!1)}}),!a&&!l&&r.a.createElement(m.a,{style:{position:"absolute",margin:"10px"}},r.a.createElement(E.a,{variant:"outline-light",size:"sm",onClick:function(e){navigator.clipboard.writeText(window.location.href).then((function(){v(!0),setTimeout((function(){v(!1)}),1500)}),(function(e){console.error("Could not copy text: ")}))}},"Copy meeting"),r.a.createElement(p.a,{show:f},r.a.createElement(p.a.Body,null,"Url copied to clipboard"))),r.a.createElement("div",{id:"jitsi-container",style:w}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(55);var P=new l.a(window.location.href,!0),C=P.query.roomId,D=Object(u.a)();C||(C=(new Date).getTime(),P.query.roomId=C,window.history.pushState("","",P.toString())),i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(s.c,{history:D},r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/",component:k}),r.a.createElement(s.a,{to:"/"})))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[41,1,2]]]);
//# sourceMappingURL=main.755fec18.chunk.js.map