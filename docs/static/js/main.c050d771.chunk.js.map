{"version":3,"sources":["components/LoadingModal.js","utils/index.js","components/StartMeet.js","utils/coockie.js","App.js","serviceWorker.js","index.js"],"names":["LoadingModal","show","Modal","size","centered","Header","Title","Body","Row","className","Spinner","animation","variant","firebase","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","ref","detectMob","some","toMatchItem","navigator","userAgent","match","a","data","push","timeStap","Date","toLocaleString","device","options","name","value","StartMeet","onClose","onStart","urlParser","UrlParse","window","location","href","room","query","roomId","useState","radioValue","setRadioValue","setRoom","nameEQ","ca","document","cookie","split","i","length","c","charAt","substring","indexOf","getCookie","displayName","setDisplayName","backdrop","keyboard","InputGroup","Prepend","Text","id","FormControl","onChange","e","target","aria-label","aria-describedby","ButtonGroup","toggle","map","opt","idx","ToggleButton","key","type","checked","Number","currentTarget","Footer","Button","block","onClick","history","pushState","toString","startAudioOnly","analytics","track","trackEvent","postData","disabled","JitsiMeetComponent","loading","setLoading","startMeet","setStart","showToast","setToast","jitsiContainerStyle","display","width","height","useEffect","JitsiMeetExternalAPI","identify","alert","fluid","style","roomName","parentNode","getElementById","interfaceConfigOverwrite","filmStripOnly","DEFAULT_REMOTE_DISPLAY_NAME","SHOW_JITSI_WATERMARK","SHOW_WATERMARK_FOR_GUESTS","APP_NAME","DISPLAY_WELCOME_PAGE_TOOLBAR_ADDITIONAL_CONTENT","NATIVE_APP_NAME","PROVIDER_NAME","INVITATION_POWERED_BY","VERTICAL_FILMSTRIP","ENABLE_FEEDBACK_ANIMATION","VIDEO_QUALITY_LABEL_DISABLED","SHOW_CHROME_EXTENSION_BANNER","HIDE_KICK_BUTTON_FOR_GUESTS","TOOLBAR_BUTTONS","filter","x","configOverwrite","disableSimulcast","enableClosePage","enableWelcomePage","enableNoAudioDetection","disableDeepLinking","enableNoisyMicDetection","api","addEventListener","executeCommand","reload","error","console","position","margin","text","clipboard","writeText","then","setTimeout","err","Toast","Boolean","hostname","hist","createBrowserHistory","getTime","ReactDOM","render","StrictMode","path","component","App","to","serviceWorker","ready","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.c050d771.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Modal, Spinner, Row } from \"react-bootstrap\";\r\n\r\nfunction LoadingModal({ show }) {\r\n  return (\r\n    <Modal show={show} size=\"sm\" centered>\r\n      <Modal.Header>\r\n        <Modal.Title>Loading</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <Row className=\"justify-content-center\">\r\n          <Spinner animation=\"grow\" variant=\"primary\" />\r\n        </Row>\r\n      </Modal.Body>\r\n    </Modal>\r\n  );\r\n}\r\n\r\nexport default LoadingModal;\r\n","import * as firebase from \"firebase\";\r\n\r\nvar firebaseConfig = {\r\n  apiKey: \"AIzaSyBIAy4TTEd-t5UyOOpWszIwEqpFK4BawGI\",\r\n  authDomain: \"conference-67f3e.firebaseapp.com\",\r\n  databaseURL: \"https://conference-67f3e.firebaseio.com\",\r\n  projectId: \"conference-67f3e\",\r\n  storageBucket: \"conference-67f3e.appspot.com\",\r\n  messagingSenderId: \"567472190800\",\r\n  appId: \"1:567472190800:web:2dda169ab525baa1d4e855\",\r\n  // measurementId: \"G-GWN91VR3S8\",\r\n};\r\n// Initialize Firebase\r\nfirebase.initializeApp(firebaseConfig);\r\nvar db = firebase.database();\r\nvar ref = db.ref(\"/conferences\");\r\n\r\nfunction detectMob() {\r\n  const toMatch = [\r\n    /Android/i,\r\n    /webOS/i,\r\n    /iPhone/i,\r\n    /iPad/i,\r\n    /iPod/i,\r\n    /BlackBerry/i,\r\n    /Windows Phone/i,\r\n  ];\r\n\r\n  return toMatch.some((toMatchItem) => {\r\n    return navigator.userAgent.match(toMatchItem);\r\n  });\r\n}\r\n\r\nfunction trackEvent(...params) {\r\n  if (window.analytics) {\r\n    window.analytics.track(...params);\r\n  }\r\n}\r\n\r\nfunction identify(...params) {\r\n  if (window.analytics) {\r\n    window.analytics.identify(...params);\r\n  }\r\n}\r\n\r\nasync function postData(data = {}) {\r\n  ref.push({\r\n    ...data,\r\n    timeStap: new Date().toLocaleString(),\r\n    device: detectMob() ? \"Mobile\" : \"Desktop\",\r\n  });\r\n  /*const response = await fetch(\r\n    `https://mock-server-hk.herokuapp.com/sayhello`,\r\n    {\r\n      method: \"POST\", // *GET, POST, PUT, DELETE, etc.\r\n      //   mode: 'cors', // no-cors, *cors, same-origin\r\n      cache: \"no-cache\", // *default, no-cache, reload, force-cache, only-if-cached\r\n      credentials: \"same-origin\", // include, *same-origin, omit\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      redirect: \"follow\", // manual, *follow, error\r\n      referrerPolicy: \"no-referrer\", // no-referrer, *no-referrer-when-downgrade, origin, origin-when-cross-origin, same-origin, strict-origin, strict-origin-when-cross-origin, unsafe-url\r\n      body: JSON.stringify({\r\n        ...data,\r\n        timeStap: new Date().toLocaleString(),\r\n        device: detectMob() ? \"Mobile\" : \"Desktop\",\r\n      }), // body data type must match \"Content-Type\" header\r\n    }\r\n  );\r\n  return response.json(); // parses JSON response into native JavaScript objects*/\r\n}\r\n\r\nexport { detectMob, trackEvent, identify, postData };\r\n","import React, { useState } from \"react\";\r\nimport UrlParse from \"url-parse\";\r\nimport {\r\n  Modal,\r\n  InputGroup,\r\n  FormControl,\r\n  Button,\r\n  ButtonGroup,\r\n  ToggleButton,\r\n} from \"react-bootstrap\";\r\nimport { setCookie, getCookie } from \"../utils/coockie\";\r\nimport { trackEvent, postData } from \"../utils\";\r\n\r\nconst options = [\r\n  { name: \"Audio\", value: 1 },\r\n  { name: \"Video\", value: 2 },\r\n];\r\n\r\nfunction StartMeet({ onClose, onStart, show }) {\r\n  const urlParser = new UrlParse(window.location.href, true);\r\n  const room = urlParser.query.roomId;\r\n\r\n  const [radioValue, setRadioValue] = useState(1);\r\n  const [roomId, setRoom] = useState(room || \"\");\r\n  const [displayName, setDisplayName] = useState(\r\n    getCookie(\"displayName\") || \"\"\r\n  );\r\n\r\n  const onStartMeet = () => {\r\n    setCookie(\"displayName\", displayName);\r\n    urlParser.query.roomId = roomId;\r\n    window.history.pushState(\"\", \"\", urlParser.toString());\r\n    const startAudioOnly = radioValue === 1;\r\n\r\n    onClose();\r\n    onStart(roomId, displayName, startAudioOnly);\r\n\r\n    trackEvent(\"Start Meeting\", {\r\n      roomId,\r\n      displayName,\r\n    });\r\n    postData({\r\n        roomId,\r\n        displayName,\r\n      })\r\n  };\r\n\r\n  return (\r\n    <Modal show={show} backdrop=\"static\" keyboard={false} centered>\r\n      <Modal.Header className=\"justify-content-center\">\r\n        <Modal.Title>Start Meet</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <InputGroup className=\"mb-3\">\r\n          <InputGroup.Prepend>\r\n            <InputGroup.Text id=\"inputGroup-sizing-default\">\r\n              Room Id\r\n            </InputGroup.Text>\r\n          </InputGroup.Prepend>\r\n          <FormControl\r\n            onChange={(e) => setRoom(e.target.value)}\r\n            value={roomId}\r\n            aria-label=\"Default\"\r\n            aria-describedby=\"inputGroup-sizing-default\"\r\n          />\r\n        </InputGroup>\r\n        <InputGroup className=\"mb-3\">\r\n          <InputGroup.Prepend>\r\n            <InputGroup.Text id=\"inputGroup-sizing-default\">\r\n              Name\r\n            </InputGroup.Text>\r\n          </InputGroup.Prepend>\r\n          <FormControl\r\n            onChange={(e) => setDisplayName(e.target.value)}\r\n            value={displayName}\r\n            aria-label=\"Default\"\r\n            aria-describedby=\"inputGroup-sizing-default\"\r\n          />\r\n        </InputGroup>\r\n        <InputGroup className=\"mb-3\">\r\n          <ButtonGroup toggle>\r\n            {options.map((opt, idx) => (\r\n              <ToggleButton\r\n                key={idx}\r\n                type=\"radio\"\r\n                variant={\r\n                  radioValue === opt.value ? \"primary\" : \"outline-primary\"\r\n                }\r\n                name=\"radio\"\r\n                value={opt.value}\r\n                checked={radioValue === opt.value}\r\n                onChange={(e) => setRadioValue(Number(e.currentTarget.value))}\r\n              >\r\n                {opt.name}\r\n              </ToggleButton>\r\n            ))}\r\n          </ButtonGroup>\r\n        </InputGroup>\r\n      </Modal.Body>\r\n      <Modal.Footer>\r\n        <Button\r\n          variant=\"primary\"\r\n          block\r\n          onClick={onStartMeet}\r\n          disabled={!roomId || !displayName}\r\n        >\r\n          Say Hello\r\n        </Button>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  );\r\n}\r\n\r\nexport default StartMeet;\r\n","function setCookie(name, value, days) {\r\n  var expires = \"\";\r\n  //   if (days) {\r\n  //     var date = new Date();\r\n  //     date.setTime(date.getTime() + days * 24 * 60 * 60 * 1000);\r\n  //     expires = \"; expires=\" + date.toUTCString();\r\n  //   }\r\n  document.cookie = name + \"=\" + (value || \"\") + expires + \"; path=/\";\r\n}\r\nfunction getCookie(name) {\r\n  var nameEQ = name + \"=\";\r\n  var ca = document.cookie.split(\";\");\r\n  for (var i = 0; i < ca.length; i++) {\r\n    var c = ca[i];\r\n    while (c.charAt(0) === \" \") c = c.substring(1, c.length);\r\n    if (c.indexOf(nameEQ) === 0) return c.substring(nameEQ.length, c.length);\r\n  }\r\n  return null;\r\n}\r\nfunction eraseCookie(name) {\r\n  document.cookie = name + \"=; Max-Age=-99999999;\";\r\n}\r\n\r\nexport { setCookie, getCookie, eraseCookie };\r\n","import React, { useState, useEffect } from \"react\";\nimport { Row, Toast, Button } from \"react-bootstrap\";\nimport LoadingModal from \"./components/LoadingModal\";\nimport StartMeet from \"./components/StartMeet\";\nimport { detectMob, identify } from \"./utils\";\n\nfunction JitsiMeetComponent() {\n  const [loading, setLoading] = useState(false);\n  const [startMeet, setStart] = useState(false);\n  const [showToast, setToast] = useState(false);\n\n  const containerStyle = {\n    width: \"100%\",\n    height: \"100vh\",\n  };\n\n  const jitsiContainerStyle = {\n    display: loading ? \"none\" : \"block\",\n    width: \"100%\",\n    height: \"100%\",\n  };\n\n  function startConference(roomId, displayName, startAudioOnly) {\n    setLoading(true);\n    try {\n      // const urlParser = new UrlParse(window.location.href, true);\n      // let roomId = urlParser.query.roomId;\n      const domain = \"meet.jit.si\";\n      const options = {\n        roomName: `${roomId}`,\n        parentNode: document.getElementById(\"jitsi-container\"),\n        interfaceConfigOverwrite: {\n          filmStripOnly: false,\n          DEFAULT_REMOTE_DISPLAY_NAME: \"\",\n          SHOW_JITSI_WATERMARK: false,\n          SHOW_WATERMARK_FOR_GUESTS: false,\n          APP_NAME: `Say Hello`,\n          DISPLAY_WELCOME_PAGE_TOOLBAR_ADDITIONAL_CONTENT: false,\n          NATIVE_APP_NAME: `Say Hello`,\n          PROVIDER_NAME: \"Harish\",\n          INVITATION_POWERED_BY: false,\n          VERTICAL_FILMSTRIP: true,\n          ENABLE_FEEDBACK_ANIMATION: true,\n          VIDEO_QUALITY_LABEL_DISABLED: true,\n          SHOW_CHROME_EXTENSION_BANNER: false,\n          HIDE_KICK_BUTTON_FOR_GUESTS: true,\n          TOOLBAR_BUTTONS: [\n            \"microphone\",\n            \"camera\",\n            \"closedcaptions\",\n            !detectMob() && \"desktop\",\n            \"fullscreen\",\n            \"hangup\",\n            \"profile\",\n            \"chat\",\n            \"sharedvideo\",\n            \"raisehand\",\n            \"videoquality\",\n            \"filmstrip\",\n            \"mute-everyone\",\n            \"security\",\n          ].filter((x) => x),\n        },\n        configOverwrite: {\n          disableSimulcast: false,\n          enableClosePage: false,\n          enableWelcomePage: true,\n          enableNoAudioDetection: false,\n          disableDeepLinking: true,\n          enableNoisyMicDetection: false,\n          startAudioOnly,\n        },\n      };\n\n      const api = new window.JitsiMeetExternalAPI(domain, options);\n      api.addEventListener(\"videoConferenceJoined\", () => {\n        setLoading(false);\n        api.executeCommand(\"displayName\", displayName);\n      });\n\n      api.addEventListener(\"readyToClose\", () => {\n        window.location.reload();\n      });\n    } catch (error) {\n      console.error(\"Failed to load Jitsi API\", error);\n    }\n  }\n\n  useEffect(() => {\n    // verify the JitsiMeetExternalAPI constructor is added to the global..\n    if (window.JitsiMeetExternalAPI) {\n      setStart(true);\n      identify({ device: detectMob() ? \"Mobile\" : \"Desktop\" });\n    } else alert(\"Jitsi Meet API script not loaded\");\n  }, []);\n\n  const copyTextToClipboard = (text) => {\n    navigator.clipboard.writeText(window.location.href).then(\n      function () {\n        setToast(true);\n        setTimeout(() => {\n          setToast(false);\n        }, 1500);\n      },\n      function (err) {\n        console.error(\"Could not copy text: \");\n      }\n    );\n  };\n\n  return (\n    <div fluid style={containerStyle}>\n      <LoadingModal show={loading} />\n      <StartMeet\n        show={startMeet}\n        onStart={startConference}\n        onClose={() => setStart(false)}\n      />\n      {!loading && !startMeet && (\n        <Row style={{ position: \"absolute\", margin: \"10px\" }}>\n          <Button\n            variant=\"outline-light\"\n            size=\"sm\"\n            onClick={copyTextToClipboard}\n          >\n            Copy meeting\n          </Button>\n          <Toast show={showToast}>\n            <Toast.Body>Url copied to clipboard</Toast.Body>\n          </Toast>\n        </Row>\n      )}\n      <div id=\"jitsi-container\" style={jitsiContainerStyle} />\n    </div>\n  );\n}\n\nexport default JitsiMeetComponent;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport UrlParse from \"url-parse\";\nimport { Router, Route, Switch, Redirect } from \"react-router-dom\";\nimport { createBrowserHistory } from \"history\";\n\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nconst urlParser = new UrlParse(window.location.href, true);\nlet roomId = urlParser.query.roomId;\n\nconst hist = createBrowserHistory();\n\nif (!roomId) {\n  roomId = new Date().getTime();\n\n  urlParser.query.roomId = roomId;\n  window.history.pushState(\"\", \"\", urlParser.toString());\n}\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router history={hist}>\n      <Switch>\n        <Route path=\"/\" component={App} />\n        <Redirect to=\"/\" />\n      </Switch>\n    </Router>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}